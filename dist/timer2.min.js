/*! timer2 - v0.0.1 - 2020-08-05
* Copyright (c) 2020 Moneyfly; Licensed MIT */

"use strict";!function(o){o.fn.timer2=function(u){o(this);return u=o.extend({day:!0,hour:!0,munute:!0,second:!0},u),this.each(function(){var t,i=o(this);if(i.siblings(".timer2-box").remove(),"DIV"===this.tagName||"SPAN"===this.tagName){if(t=this.innerText.trim(),!/^[0-9]+$/.test(t))return;this.innerText=o.fn.timer2.format_time(parseInt(t))}if("INPUT"===this.tagName&&"text"===this.getAttribute("type")){if(t=i.val(),!/^[0-9]+$/.test(t))return;var e=o.fn.timer2.get_dhms(t),n=u.day&&'<input type="text" title="day" class="timer2-inside input-day" value="'+e[0]+'">days'||"",s=[],r=[];u.hour&&(s.push('<input type="text" title="hour" class="timer2-inside input-hour" value="'+e[1]+'">'),r.push("hh")),u.munute&&(s.push('<input type="text" title="minute" class="timer2-inside input-minute" value="'+e[2]+'">'),r.push("mm")),u.second&&(s.push('<input type="text" title="second" class="timer2-inside input-second" value="'+e[3]+'">'),r.push("ss"));var a=n+s.join(":")+"("+r.join(":")+")",h=o(document.createElement("div")).attr({class:"timer2-box"}).html(a);i.before(h),i.hide(),h.children(".timer2-inside").bind("propertychange change click keyup input paste",function(){var t=o(this).val();"day"!==o(this).attr("title")||/^[0-9]+$/.test(t)||o(this).val(0),"hour"===o(this).attr("title")&&(23<t?o(this).val(23):/^[0-9]+$/.test(t)?o(this).val(parseInt(t)):o(this).val(0)),"minute"!==o(this).attr("title")&&"second"!==o(this).attr("title")||(59<t?o(this).val(59):/^[0-9]+$/.test(t)?o(this).val(parseInt(t)):o(this).val(0));var e={day:0,hour:0,minute:0,second:0};h.children(".timer2-inside").each(function(){e[o(this).attr("title")]=o(this).val()}),i.val(o.fn.timer2.get_seconds(e.day,e.hour,e.minute,e.second))})}})},o.fn.timer2.format_time=function(t){function e(t){return t<10&&"0"+t||t}var i=o.fn.timer2.get_dhms(t);return(1<i[0]&&i[0]+"days "||0<i[0]&&i[0]+"day "||"")+e(i[1])+":"+e(i[2])+":"+e(i[3])},o.fn.timer2.get_dhms=function(t){var e=t-60*Math.floor(t/60),i=Math.floor((t-3600*Math.floor(t/3600))/60),n=Math.floor((t-86400*Math.floor(t/86400))/3600);return[Math.floor(t/86400),n,i,e]},o.fn.timer2.get_seconds=function(t,e,i,n){return Math.floor(86400*t+3600*e+60*i+1*n)}}(jQuery);